package com.songrAbdul401.songr.controllers;

import com.songrAbdul401.songr.Album;
import com.songrAbdul401.songr.repositories.AlbumRepo;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.view.RedirectView;

import java.util.ArrayList;
import java.util.List;

@Controller
public class AlbumController {
    @Autowired
    AlbumRepo albumRepo;

    @GetMapping ("/album")
    public String albumPopulator (Model m){
//        ArrayList<Object> albumList = new ArrayList<>();
//
//        Album album1 = new Album("The Goat", "Polo G", 16, 47.11,"https://i.scdn.co/image/ab67616d0000b273339f780dfdbc38558ea0761d");
//        Album album2 = new Album("SoulFly", "Rod Wave",18,53.33,"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQRWW28kV9jg0iN5WO1T96KVnFyozRZBWeDgg&usqp=CAU");
//        Album album3 = new Album("The Off-Season", "J. Cole",12,39.03,"data:image/jpeg;base64,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");
//
//        albumList.add(album1);
//        albumList.add(album2);
//        albumList.add(album3);

        List<Album> albumList = albumRepo.findAll();

        m.addAttribute("albums",albumList);



        return "album";
    }

    @PostMapping("addAlbum")
    public RedirectView createAlbum (String title, String artist, Integer numSongs, int length, String imgUrl) {
        Album newAlbum = new Album(title,artist,numSongs,length,imgUrl);

        albumRepo.save(newAlbum);
        return new RedirectView("/album");
    }
}
